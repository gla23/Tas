(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{170:function(e,t,n){},177:function(e,t,n){"use strict";n.r(t);var a,s,r=n(0),c=n.n(r),i=n(25),o=n.n(i),h=(n(75),n(11)),l=n(12),u=n(14),p=n(13),g=n(15),v=n(2),d=n(32),m=n(66),f=n.n(m),k=function(e){return c.a.createElement(f.a,{variant:"outlined",color:"primary",onClick:e.onClick,style:{marginRight:"10px"}},e.text,e.children)},b=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={cursorOn:!0},n.cursorFlashInterval=setInterval(function(){return n.setState({cursorOn:!n.state.cursorOn})},600),n}return Object(g.a)(t,e),Object(l.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.cursorFlashInterval)}},{key:"render",value:function(){for(var e=this.props,t=e.text,n=e.checkLength,a=[],s=0;s<t.length+1;s++){var r=t[s]||" ",i=s>=this.props.selection[0]&&s<this.props.selection[1],o="char ";s<n&&s!==t.length&&(o+=this.props.charCorrect(r,s)?"charSuccess ":"charDanger "),o+=this.state.cursorOn&&this.props.showingCursor&&(this.props.selection[0]===this.props.selection[1]&&this.props.selection[1]===s||this.props.selection[1]===s&&"forward"===this.props.selection[2]||this.props.selection[0]===s&&"backward"===this.props.selection[2])?"cursor ":"",a.push(c.a.createElement("span",{className:o,key:s},i?c.a.createElement("mark",null,r):r))}return c.a.createElement("p",{className:"TextArea",onClick:this.props.onClick},a)}}]),t}(r.Component),w=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={size:e.verseShowing},n}return Object(g.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"AnswerReveal"},c.a.createElement("p",null,this.props.answerShowing&&this.props.verse))}}]),t}(c.a.Component),C={selection:[0,0,"none"],checkedLength:0,checkIncrementTime:35,correctLength:0},x={text:"",answerShowing:!1},O=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).state=Object(d.a)({showingCursor:!1,text:" ",showingUI:!0},C,x),n.textareaRef=c.a.createRef(),n.onTextChange=n.onTextChange.bind(Object(v.a)(Object(v.a)(n))),n.charCorrect=n.charCorrect.bind(Object(v.a)(Object(v.a)(n))),n.handleInput=n.handleInput.bind(Object(v.a)(Object(v.a)(n))),n.getCorrectLength=n.getCorrectLength.bind(Object(v.a)(Object(v.a)(n))),n.startSearching=n.startSearching.bind(Object(v.a)(Object(v.a)(n))),n.focusTextArea=n.focusTextArea.bind(Object(v.a)(Object(v.a)(n))),n.incrementCheckedLength=n.incrementCheckedLength.bind(Object(v.a)(Object(v.a)(n))),n.handleKeyPress=n.handleKeyPress.bind(Object(v.a)(Object(v.a)(n))),n.toggleAnswerReveal=n.toggleAnswerReveal.bind(Object(v.a)(Object(v.a)(n))),n.toggleUI=n.toggleUI.bind(Object(v.a)(Object(v.a)(n))),n}return Object(g.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.textareaRef.current&&(this.node=this.textareaRef.current,(this.node.addEventListener||this.node.attachEvent)("keypress",this.handleKeyPress,!1),this.focusTextArea())}},{key:"componentWillUnmount",value:function(){(this.node.removeEventListener||this.node.detachEvent)("keypress",this.handleKeyPress)}},{key:"handleKeyPress",value:function(e){"Enter"===e.key&&(e.preventDefault(),this.startSearching()),"["===e.key&&(e.preventDefault(),this.toggleAnswerReveal()),"#"!==e.key&&"Escape"!==e.key||(e.preventDefault(),this.toggleUI());var t=this.props.shortcutMap.get(e.key);if(t)e.preventDefault(),t(e.key);else{var n=this.props.shortcutMap.get("*");n&&n(e.key)}}},{key:"incrementCheckedLength",value:function(){var e=this.getCorrectLength(),t=this.state.checkedLength,n=Math.min(Math.ceil((10+(this.props.answer.length+e)/2)/30),6);console.log(n);var a=Math.min(this.state.checkedLength+n,this.state.text.length);if(0!==this.props.answer.length&&0!==this.state.text.length)if(t<e){a>e&&(a=e,console.log("switching to slowing down"));var s=this.state.checkIncrementTime-2;this.setState({checkedLength:a,checkIncrementTime:s}),setTimeout(this.incrementCheckedLength,Math.max(s,1))}else{if(this.state.text===this.props.answer)return void setTimeout(this.props.onComplete,100);var r=this.state.checkIncrementTime,c=this.state.checkIncrementTime+6;if(r>38)return;this.setState({checkedLength:this.state.checkedLength+1,checkIncrementTime:c}),setTimeout(this.incrementCheckedLength,Math.max(5*c,1))}}},{key:"focusTextArea",value:function(){this.textareaRef.current.focus({preventScroll:!0})}},{key:"toggleAnswerReveal",value:function(){this.setState({answerShowing:!this.state.answerShowing})}},{key:"toggleUI",value:function(){this.setState({showingUI:!this.state.showingUI})}},{key:"refreshState",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.setState(C):this.setState(Object(d.a)({},C,x))}},{key:"componentDidUpdate",value:function(e,t){var n=this;e.correctCount!==this.props.correctCount?this.setState(Object(d.a)({},C,x)):e.clue!==this.props.clue&&(t.checkedLength>0?this.setState(C,function(){return n.startSearching()}):this.setState(C))}},{key:"onTextChange",value:function(e){var t=e.target.value,n=this.props.answer,a=this.state.selection[0];if(n){var s=this.getCorrectLength(t,n);this.setState({text:t},function(){var e=this;if(t===n)this.startSearching();else{var r=this.state.selection[0];console.log(this.state.checkedLength,a,r);var c=Math.min(this.state.checkedLength,0===a?1e4:a,r);this.setState({checkedLength:c},function(){e.state.checkedLength<=s&&e.setState({checkIncrementTime:35})})}})}}},{key:"getCorrectLength",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.text,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.answer,n=0,a=0;a<e.length&&e[a]===t[a];a++)n=a+1;return n}},{key:"handleInput",value:function(e){var t=e.target.selectionStart,n=e.target.selectionEnd,a=e.target.selectionDirection;this.setState({selection:[t,n,a]})}},{key:"startSearching",value:function(e){console.log("start Searching checked: ",this.state.checkedLength),this.incrementCheckedLength()}},{key:"charCorrect",value:function(e,t){}},{key:"render",value:function(){var e=this,t=this.props.navigationDiv();return c.a.createElement("div",{onClick:this.focusTextArea},c.a.createElement("div",{className:"preNavigation"},c.a.createElement("div",{className:"clueDiv"},c.a.createElement("span",{className:"clue"},this.props.clue),this.correctCountText()),c.a.createElement(b,{text:this.state.text,onChange:this.onTextChange,charCorrect:function(t,n){return e.props.answer[n]===t},showingCursor:this.state.showingCursor,selection:this.state.selection,checkLength:this.state.checkedLength,textareaRef:this.textareaRef.current}),c.a.createElement("div",{className:"controlDiv"},this.props.showControlDiv&&this.state.showingUI&&c.a.createElement("div",null,c.a.createElement(k,{text:"Check \u23ce",onClick:this.startSearching}),c.a.createElement(k,{text:"Reveal [",onClick:this.toggleAnswerReveal}))),this.AnswerReveal()),c.a.createElement("div",{className:"navigationDiv"},this.props.showNavigationDiv&&this.state.showingUI&&c.a.createElement("span",null,t,t||c.a.createElement(k,{text:"Hide UI (Esc)",onClick:function(){return e.setState({showingUI:!e.state.showingUI})}}))),c.a.createElement("p",{className:"bigGap"}),c.a.createElement("textarea",{id:"textarea",ref:this.textareaRef,value:this.state.text,onChange:this.onTextChange,onSelect:this.handleInput,onKeyRelease:this.handleInput,onInput:this.handleInput,spellCheck:!1,onBlur:function(){return e.setState({showingCursor:!1})},onFocus:function(){return e.setState({showingCursor:!0})},autoFocus:!0,placeholder:""}))}},{key:"correctCountText",value:function(){return c.a.createElement("span",{className:"countText",style:{whiteSpace:"pre-wrap"}}," "+this.props.correctCount+" ")}},{key:"AnswerReveal",value:function(){return c.a.createElement("div",{className:"secondSection"},c.a.createElement(w,{verse:this.props.answer,answerShowing:this.state.answerShowing}))}}]),t}(r.Component),j=n(68),y=n.n(j),E=n(69),S=n.n(E),I=function(e){return c.a.createElement(y.a,{control:c.a.createElement(S.a,{checked:e.checked,color:"primary",onChange:e.onClick,style:{marginRight:"-10px"}},e.children),label:e.text})},L=134;function M(){var e=this,t={},n=[];fetch("memory.txt").then(function(e){return e.text()}).then(function(a){return function(e){for(var a=this,s=e.split("\n"),r=0;r<s.length;r++)r%2===0&&(t[s[r]]=s[r+1],n.push(s[r]));this.answers=t,this.clues=n,setTimeout(function(){return a.setState({loaded:!0})},0)}.call(e,a)})}a="a b c d".split(" "),s={a:"aaaa",b:"bbbb",c:"cccc",d:"dddd"};var T=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).incrementVerse=function(){return Math.min(n.state.verseIndex+1,n.clues.length-1)},n.randomVerse=function(){return Math.floor(Math.random()*n.clues.length)},n.answers=s,n.clues=a,n.state={verseIndex:Math.floor(Math.random()*L),correctCount:1,questionFreezed:!1,loaded:!1},n.setQuestion=n.setQuestion.bind(Object(v.a)(Object(v.a)(n))),n.learnLoops=n.learnLoops.bind(Object(v.a)(Object(v.a)(n))),n.toggleFreeze=n.toggleFreeze.bind(Object(v.a)(Object(v.a)(n))),M.call(Object(v.a)(Object(v.a)(n))),n.shortcutMap=new Map,n.shortcutMap.set("PageDown",function(){return n.setQuestion(n.increaseVerse(1),!1)}),n.shortcutMap.set("PageUp",function(){return n.setQuestion(n.increaseVerse(-1),!1)}),n.shortcutMap.set("]",n.toggleFreeze),n}return Object(g.a)(t,e),Object(l.a)(t,[{key:"toggleFreeze",value:function(){this.setState({questionFreezed:!this.state.questionFreezed})}},{key:"increaseVerse",value:function(e){var t=this;return function(){var n=t.state.verseIndex+e,a=Math.min(n,t.clues.length-1);return Math.max(0,a)}}},{key:"learnLoops",value:function(){return this.state.correctCount<15?Math.floor(Math.random()*L):this.state.correctCount<30?L+Math.floor(Math.random()*(145-L)):this.state.verseIndex<145?145:this.incrementVerse()}},{key:"setQuestion",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={};this.state.questionFreezed||(n.verseIndex=e()),t&&(n.correctCount=this.state.correctCount+1,n.verseShowing=!1),this.setState(n)}},{key:"render",value:function(){var e=this;return c.a.createElement("div",null,c.a.createElement(O,{answer:this.answers[this.clues[this.state.verseIndex]],clue:this.clues[this.state.verseIndex],correctCount:this.state.correctCount,shortcutMap:this.shortcutMap,onComplete:function(){this.setQuestion(this.learnLoops)}.bind(this),navigationDiv:function(){return e.loopsNavigationDiv()},showControlDiv:!0,showNavigationDiv:!0}))}},{key:"loopsNavigationDiv",value:function(){var e=this;return this.clues[L]&&c.a.createElement("span",null,c.a.createElement("h5",null,"Change mem"),c.a.createElement(k,{text:"Recent - "+this.clues[L],onClick:function(){return e.setState({correctCount:16,verseIndex:L})}}),c.a.createElement(k,{text:"New - "+this.clues[145],onClick:function(){return e.setState({correctCount:31,verseIndex:145})}}),c.a.createElement(k,{text:"Random",onClick:function(){return e.setQuestion(e.randomVerse,!1)}}),c.a.createElement(k,{text:"Complete",onClick:function(){return e.setQuestion(e.learnLoops)}}),c.a.createElement(I,{text:"Freeze",onClick:this.toggleFreeze,checked:this.state.questionFreezed}))}}]),t}(r.Component),R=(n(170),n(43)),N=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).state={value:0},n.handleChange=function(e,t){n.setState({value:t})},n}return Object(g.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"App",onClick:function(){document.getElementById("textarea").focus()}},c.a.createElement("header",{className:"App-header"},c.a.createElement("h3",null,"mem type"),c.a.createElement("p",null)),c.a.createElement("div",{className:"maxWidthFloat"},c.a.createElement("div",{className:"AppSection"},0===this.state.value&&c.a.createElement(T,null),1===this.state.value&&c.a.createElement("div",null,"mms"),2===this.state.value&&c.a.createElement("div",null,"Item Three"))))}}]),t}(r.Component),D=Object(R.withStyles)(function(e){return{root:{backgroundColor:e.palette.background.paper}}})(N);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},70:function(e,t,n){e.exports=n(177)},75:function(e,t,n){}},[[70,2,1]]]);
//# sourceMappingURL=main.405475c6.chunk.js.map